---
layout: post
title: Refactoring Towards Component-based Rails Architectures
tags:
- talk
---

### 视频

<video class="video" poster="/assets/Refactoring-Towards-Component-based-Rails-Architectures/poster.jpg" preload controls>
  <source src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/video.webm" type="video/webm">
  <source src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/video.mp4" type="video/mp4">
</video>

原视频地址：<https://www.youtube.com/watch?v=MIhlAiMc7tU>

### 幻灯片

<div class="slideshow">
  <img src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_0.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_1.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_2.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_3.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_4.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_5.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_6.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_7.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_8.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_9.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_10.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_11.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_12.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_13.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_14.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_15.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_16.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_17.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_18.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_19.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_20.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_21.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_22.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_23.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_24.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_25.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_26.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_27.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_28.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_29.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_30.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_31.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_32.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_33.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_34.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_35.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_36.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_37.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_38.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_39.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_40.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_41.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_42.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_43.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_44.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_45.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_46.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_47.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_48.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_49.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_50.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_51.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_52.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_53.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_54.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_55.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_56.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_57.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_58.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_59.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_60.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_61.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_62.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_63.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_64.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_65.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_66.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_67.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_68.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_69.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_70.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_71.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_72.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_73.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_74.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_75.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_76.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_77.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_78.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_79.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_80.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_81.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_82.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_83.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_84.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_85.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_86.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_87.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_88.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_89.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_90.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_91.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_92.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_93.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_94.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_95.jpg">
  <img src="/img/loading.gif" class="lazy" data-src="/assets/Refactoring-Towards-Component-based-Rails-Architectures/slide_96.jpg">
</div>

原幻灯片地址：<https://speakerdeck.com/shagemann/refactoring-towards-component-based-rails-architectures-at-railsconf>

### 介绍

这是 Stephan Hagemann 在 RailsConf 2014
做的主题分享，介绍他是如何分解一个大型的 Rails 项目。

Stephan 采取的是 rails engine，将不同的组件通过 engine 分割成多个小型
rails 项目，不同的 engine 之间只有单向的依赖以降低复杂度。

每个组件都可以包含 model / view / controller，组件可以独立测试。

相比于 SOA，通过 rails engine
可以只有一个代码仓库，只需一次部署，重构也更方便，组件之间的依赖也更易于管理。
